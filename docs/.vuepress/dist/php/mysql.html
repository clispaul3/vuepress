<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL | 50号公路的技术博客</title>
    <meta name="description" content="每一行代码都是你成长的记录">
    <link rel="icon" href="/img/avatar.png">
    
    <link rel="preload" href="/assets/css/0.styles.520ee453.css" as="style"><link rel="preload" href="/assets/js/app.6f37432a.js" as="script"><link rel="preload" href="/assets/js/77.0c1011fd.js" as="script"><link rel="prefetch" href="/assets/js/10.609daa78.js"><link rel="prefetch" href="/assets/js/100.215d98ad.js"><link rel="prefetch" href="/assets/js/101.8c569acf.js"><link rel="prefetch" href="/assets/js/102.331c3a69.js"><link rel="prefetch" href="/assets/js/103.5e43ee9f.js"><link rel="prefetch" href="/assets/js/104.fa2d8578.js"><link rel="prefetch" href="/assets/js/105.1e3fdc4a.js"><link rel="prefetch" href="/assets/js/106.7cd22276.js"><link rel="prefetch" href="/assets/js/107.69156dbf.js"><link rel="prefetch" href="/assets/js/108.1792826e.js"><link rel="prefetch" href="/assets/js/109.045eea66.js"><link rel="prefetch" href="/assets/js/11.3e6c1a12.js"><link rel="prefetch" href="/assets/js/110.9211146b.js"><link rel="prefetch" href="/assets/js/111.2d91c5d8.js"><link rel="prefetch" href="/assets/js/112.c8c9ec85.js"><link rel="prefetch" href="/assets/js/113.77296f4c.js"><link rel="prefetch" href="/assets/js/114.52ccbc2e.js"><link rel="prefetch" href="/assets/js/115.f6a3b407.js"><link rel="prefetch" href="/assets/js/116.4a40f8e8.js"><link rel="prefetch" href="/assets/js/12.b056ff13.js"><link rel="prefetch" href="/assets/js/13.043baaf6.js"><link rel="prefetch" href="/assets/js/14.6032430b.js"><link rel="prefetch" href="/assets/js/15.880e7609.js"><link rel="prefetch" href="/assets/js/16.af04e9ae.js"><link rel="prefetch" href="/assets/js/17.ac61ac73.js"><link rel="prefetch" href="/assets/js/18.f1101438.js"><link rel="prefetch" href="/assets/js/19.754e5162.js"><link rel="prefetch" href="/assets/js/2.9cbf7f2f.js"><link rel="prefetch" href="/assets/js/20.08cd05cf.js"><link rel="prefetch" href="/assets/js/21.002eb7df.js"><link rel="prefetch" href="/assets/js/22.b0545a03.js"><link rel="prefetch" href="/assets/js/23.eac1dcd8.js"><link rel="prefetch" href="/assets/js/24.40a937f6.js"><link rel="prefetch" href="/assets/js/25.86150e0f.js"><link rel="prefetch" href="/assets/js/26.495ede1a.js"><link rel="prefetch" href="/assets/js/27.965fa093.js"><link rel="prefetch" href="/assets/js/28.e30c3dcc.js"><link rel="prefetch" href="/assets/js/29.4829e875.js"><link rel="prefetch" href="/assets/js/3.1c36c9aa.js"><link rel="prefetch" href="/assets/js/30.beec1fd5.js"><link rel="prefetch" href="/assets/js/31.302dbd48.js"><link rel="prefetch" href="/assets/js/32.449f8c5b.js"><link rel="prefetch" href="/assets/js/33.7ad2a986.js"><link rel="prefetch" href="/assets/js/34.a2d322d0.js"><link rel="prefetch" href="/assets/js/35.09e4ebbe.js"><link rel="prefetch" href="/assets/js/36.1c37b4b4.js"><link rel="prefetch" href="/assets/js/37.ed47b9d9.js"><link rel="prefetch" href="/assets/js/38.63f0b36e.js"><link rel="prefetch" href="/assets/js/39.92f2a166.js"><link rel="prefetch" href="/assets/js/4.b1c21141.js"><link rel="prefetch" href="/assets/js/40.9713fab2.js"><link rel="prefetch" href="/assets/js/41.7b16173b.js"><link rel="prefetch" href="/assets/js/42.e10c8700.js"><link rel="prefetch" href="/assets/js/43.d93e683a.js"><link rel="prefetch" href="/assets/js/44.54284f52.js"><link rel="prefetch" href="/assets/js/45.879c0881.js"><link rel="prefetch" href="/assets/js/46.8aba2aae.js"><link rel="prefetch" href="/assets/js/47.a10cb9fe.js"><link rel="prefetch" href="/assets/js/48.af8b0f5e.js"><link rel="prefetch" href="/assets/js/49.1710f221.js"><link rel="prefetch" href="/assets/js/5.91d42481.js"><link rel="prefetch" href="/assets/js/50.f9e84f84.js"><link rel="prefetch" href="/assets/js/51.c538f750.js"><link rel="prefetch" href="/assets/js/52.55af7560.js"><link rel="prefetch" href="/assets/js/53.56622915.js"><link rel="prefetch" href="/assets/js/54.9ba062d2.js"><link rel="prefetch" href="/assets/js/55.f32b4490.js"><link rel="prefetch" href="/assets/js/56.9d3edba9.js"><link rel="prefetch" href="/assets/js/57.4372b142.js"><link rel="prefetch" href="/assets/js/58.89c7291f.js"><link rel="prefetch" href="/assets/js/59.3389eea8.js"><link rel="prefetch" href="/assets/js/6.9e61aad8.js"><link rel="prefetch" href="/assets/js/60.8e87864a.js"><link rel="prefetch" href="/assets/js/61.99e18769.js"><link rel="prefetch" href="/assets/js/62.6bfafcd2.js"><link rel="prefetch" href="/assets/js/63.cb0fc075.js"><link rel="prefetch" href="/assets/js/64.f70c53ce.js"><link rel="prefetch" href="/assets/js/65.37a62eae.js"><link rel="prefetch" href="/assets/js/66.0d246832.js"><link rel="prefetch" href="/assets/js/67.473814d8.js"><link rel="prefetch" href="/assets/js/68.0809b994.js"><link rel="prefetch" href="/assets/js/69.866c407a.js"><link rel="prefetch" href="/assets/js/7.2af8cf25.js"><link rel="prefetch" href="/assets/js/70.fdb1a27f.js"><link rel="prefetch" href="/assets/js/71.ece9b9f8.js"><link rel="prefetch" href="/assets/js/72.fb409d21.js"><link rel="prefetch" href="/assets/js/73.e30ef7b2.js"><link rel="prefetch" href="/assets/js/74.4c738cbd.js"><link rel="prefetch" href="/assets/js/75.7d7f307a.js"><link rel="prefetch" href="/assets/js/76.33a8d4bc.js"><link rel="prefetch" href="/assets/js/78.d2639879.js"><link rel="prefetch" href="/assets/js/79.55184b9a.js"><link rel="prefetch" href="/assets/js/8.d3e83a8e.js"><link rel="prefetch" href="/assets/js/80.7ced2b61.js"><link rel="prefetch" href="/assets/js/81.af7cd2be.js"><link rel="prefetch" href="/assets/js/82.9f113877.js"><link rel="prefetch" href="/assets/js/83.f687934e.js"><link rel="prefetch" href="/assets/js/84.8419e53a.js"><link rel="prefetch" href="/assets/js/85.5a53a353.js"><link rel="prefetch" href="/assets/js/86.862b6761.js"><link rel="prefetch" href="/assets/js/87.531bd17e.js"><link rel="prefetch" href="/assets/js/88.de3ac3c9.js"><link rel="prefetch" href="/assets/js/89.33a60e58.js"><link rel="prefetch" href="/assets/js/9.d690303b.js"><link rel="prefetch" href="/assets/js/90.e9d65ab1.js"><link rel="prefetch" href="/assets/js/91.9796ef8e.js"><link rel="prefetch" href="/assets/js/92.c469b7df.js"><link rel="prefetch" href="/assets/js/93.d470a061.js"><link rel="prefetch" href="/assets/js/94.c451109d.js"><link rel="prefetch" href="/assets/js/95.85275ebe.js"><link rel="prefetch" href="/assets/js/96.409380c8.js"><link rel="prefetch" href="/assets/js/97.c1462fce.js"><link rel="prefetch" href="/assets/js/98.a29bc014.js"><link rel="prefetch" href="/assets/js/99.3a5ea64e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.520ee453.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">50号公路的技术博客</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/php/基本语法.html" class="nav-link">php</a></li><li class="dropdown-item"><!----> <a href="/java/基本介绍.html" class="nav-link">java</a></li><li class="dropdown-item"><!----> <a href="/NodeJs/基本介绍.html" class="nav-link">NodeJs</a></li><li class="dropdown-item"><!----> <a href="/python/基本介绍.html" class="nav-link">python</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/markdown/基本语法.html" class="nav-link">markdown</a></li><li class="dropdown-item"><!----> <a href="/UML/" class="nav-link">UML</a></li><li class="dropdown-item"><!----> <a href="/tooldocs/工具文档.html" class="nav-link">tooldocs</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/shell/" class="nav-link">shell</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/XML/" class="nav-link">XML</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/reactChatPC.html" class="nav-link">react-chat</a></li><li class="dropdown-item"><!----> <a href="/project/FlowHYSUI.html" class="nav-link">FlowHYSUI</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/angular/" class="nav-link">angular</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/electron/" class="nav-link">electron</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/clispaul3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/principle/" class="nav-link">源码</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/php/基本语法.html" class="nav-link">php</a></li><li class="dropdown-item"><!----> <a href="/java/基本介绍.html" class="nav-link">java</a></li><li class="dropdown-item"><!----> <a href="/NodeJs/基本介绍.html" class="nav-link">NodeJs</a></li><li class="dropdown-item"><!----> <a href="/python/基本介绍.html" class="nav-link">python</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/markdown/基本语法.html" class="nav-link">markdown</a></li><li class="dropdown-item"><!----> <a href="/UML/" class="nav-link">UML</a></li><li class="dropdown-item"><!----> <a href="/tooldocs/工具文档.html" class="nav-link">tooldocs</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/shell/" class="nav-link">shell</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/XML/" class="nav-link">XML</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/reactChatPC.html" class="nav-link">react-chat</a></li><li class="dropdown-item"><!----> <a href="/project/FlowHYSUI.html" class="nav-link">FlowHYSUI</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/angular/" class="nav-link">angular</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/electron/" class="nav-link">electron</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/clispaul3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/principle/" class="nav-link">源码</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/php/基本语法.html" class="sidebar-link">基本语法</a></li><li><a href="/php/面向对象.html" class="sidebar-link">面向对象</a></li><li><a href="/php/mysql.html" class="active sidebar-link">MySQL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/mysql.html#相关概念" class="sidebar-link">相关概念</a></li><li class="sidebar-sub-header"><a href="/php/mysql.html#数据属性" class="sidebar-link">数据属性</a></li><li class="sidebar-sub-header"><a href="/php/mysql.html#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/php/mysql.html#sql基本操作" class="sidebar-link">sql基本操作</a></li><li class="sidebar-sub-header"><a href="/php/mysql.html#常用命令行" class="sidebar-link">常用命令行</a></li><li class="sidebar-sub-header"><a href="/php/mysql.html#brew" class="sidebar-link">brew</a></li></ul></li><li><a href="/php/PDO.html" class="sidebar-link">PDO</a></li><li><a href="/php/phpmyadmin.html" class="sidebar-link">phpmyadmin</a></li><li><a href="/php/mvc.html" class="sidebar-link">MVC</a></li><li><a href="/php/常用函数.html" class="sidebar-link">常用函数</a></li><li><a href="/php/ThinkPHP.html" class="sidebar-link">ThinkPHP</a></li><li><a href="/php/路由.html" class="sidebar-link">路由</a></li><li><a href="/php/数组.html" class="sidebar-link">数组</a></li><li><a href="/php/请求参数.html" class="sidebar-link">请求参数</a></li><li><a href="/php/超级全局变量.html" class="sidebar-link">超级全局变量</a></li><li><a href="/php/会话控制.html" class="sidebar-link">会话控制</a></li><li><a href="/php/PSR规范.html" class="sidebar-link">PSR规范</a></li><li><a href="/php/文件包含.html" class="sidebar-link">文件包含</a></li><li><a href="/php/smart.html" class="sidebar-link">smart</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="mysql"><a href="#mysql" aria-hidden="true" class="header-anchor">#</a> MySQL</h1> <h2 id="相关概念"><a href="#相关概念" aria-hidden="true" class="header-anchor">#</a> 相关概念</h2> <ul><li>DB</li> <li>DBMS</li> <li>SQL</li> <li>关系型数据库 SQL</li> <li>结构性数据库 Nosql</li></ul> <h3 id="常用的数据库管理系统"><a href="#常用的数据库管理系统" aria-hidden="true" class="header-anchor">#</a> 常用的数据库管理系统</h3> <ul><li>MySQL、Oracle、DB2、SqlServer、Sqlite等</li></ul> <h3 id="docs-mysql-常用命令"><a href="#docs-mysql-常用命令" aria-hidden="true" class="header-anchor">#</a> docs-&gt;mysql 常用命令</h3> <ol><li>登录: mysql -h localhost -P 3306 -u zyb -p</li> <li>退出: exit &amp; quit</li> <li>show databases;</li> <li>use test;</li> <li>show tables;</li> <li>select database(); 查看当前所在数据库</li> <li>create table test(id int,name varchar(20)); 建表</li> <li>desc test; 查看表结构</li> <li>select * from test;</li> <li>insert into test (id,name) values(1,'html');</li> <li>delete from test where id=1;</li> <li>select version(); 查看版本</li> <li>show variables like 'character_set%'; 查看字符集关系</li> <li>ALTER DATABASE zyb CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;</li> <li>alter table test convert to character set utf8mb4 collate utf8mb4_bin;</li></ol> <h3 id="sql语法规范"><a href="#sql语法规范" aria-hidden="true" class="header-anchor">#</a> SQL语法规范</h3> <ul><li>不区分大小写</li> <li>每条命令已分号结尾</li> <li>注释
<ul><li>单行注释：#注释文字</li> <li>单行注释：-- 注释文字</li> <li>多行注释：/* 注释文字 */</li></ul></li></ul> <h3 id="sql语句分类"><a href="#sql语句分类" aria-hidden="true" class="header-anchor">#</a> SQL语句分类</h3> <ul><li>DQL 数据查询语句
<ul><li>select</li></ul></li> <li>DML 数据操作语句
<ul><li>update、insert、delete</li></ul></li> <li>DDL 数据定义语句
<ul><li>create、alter</li></ul></li> <li>DCL 数据控制语句
<ul><li>grant、revoke、commit、rollback、savepoint等</li></ul></li></ul> <h3 id="字符集"><a href="#字符集" aria-hidden="true" class="header-anchor">#</a> 字符集</h3> <ul><li>字符是各种文字和符号的总称，包括各国家文字、标点符号、图形文字、数字等</li> <li>在计算机中所看到的任何内容都是字符构成的</li> <li>字符编码是计算机针对各种符号，在计算机中的一种二进制存储代号</li> <li>字符集是多个字符的集合，字符集种类较多，每个字符集包含的字符个数不同</li> <li>常见字符集 ASCII、GB2312、BIG5、GB18030、Unicode</li></ul> <h2 id="数据属性"><a href="#数据属性" aria-hidden="true" class="header-anchor">#</a> 数据属性</h2> <ol><li><strong>auto_increment</strong> <ul><li>auto_increment能为新插入的行赋一个唯一的整数标识符。为列赋此属性将为每个新插入的行
赋值为上一次插入的ID+1</li> <li>MySQL要求将auto_increment属性用于作为主键的列</li> <li>每个表只允许有一个auto_increment列</li> <li>insert语句插入auto_increment列时，赋值为null</li></ul></li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code> <span class="token comment">// user表有两个字段，id、name;</span>
 <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li><strong>binary</strong> <ul><li>binary属性只用于char和varchar值</li> <li>列指定了binary属性时，将区分大小写排序</li> <li>列忽略了binary属性时，将不区分大小写排序</li></ul></li> <li><strong>default</strong> <ul><li>default属性确保在没有任何值可用的情况下，赋予某个常量值，这个值必须是常量，因为
MySQL不允许插入函数或表达式值</li> <li>default无法用于Blob和Text列</li></ul></li> <li><strong>index</strong> <ul><li>使用索引为一个列建立一个有序的键数组，可以极大提升数据库性能，每个键指向其相应的表行</li> <li>尽量通过更少的字符建立索引</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">// 创建表时指定索引列</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> employees
<span class="token punctuation">(</span>
  id <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  firstname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  lastname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  email <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  phone <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  <span class="token keyword">index</span> lastname<span class="token punctuation">(</span>lastname<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 修改字段属性指定索引</span>
<span class="token keyword">create</span> <span class="token keyword">index</span> lastname <span class="token keyword">on</span> employees <span class="token punctuation">(</span>lastname<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过前7个字符指定索引</span>
</code></pre></div></li> <li><strong>not null</strong> <ul><li>不允许向该列插入null值</li></ul></li> <li><strong>null</strong> <ul><li>null表示无，并不是表示''或0</li></ul></li> <li><strong>primary key</strong> <ul><li>primary key属性用于确保指定行的唯一性。指定为主键的列中，值不能重复，也不能为空</li> <li>primary key 和 auto_increment一般指定为同一列</li></ul></li> <li><strong>unique</strong> <ul><li>unique指定的列不能有重复值，null值可以重复</li></ul></li> <li><strong>zerofill</strong> <ul><li>zerofill属性可用于任何数值类型，用0填充所有剩余字段空间</li> <li>一般用于数值类型</li></ul></li></ol> <h2 id="数据类型"><a href="#数据类型" aria-hidden="true" class="header-anchor">#</a> 数据类型</h2> <p><a href="https://www.jb51.net/article/55853.htm" title="数据类型" target="_blank" rel="noopener noreferrer">文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ol><li><strong>时间数据类型</strong></li></ol> <table><thead><tr><th>mysql数据类型</th> <th style="text-align:left">含义</th></tr></thead> <tbody><tr><td>date</td> <td style="text-align:left">格式：2019-02-23</td></tr> <tr><td>time</td> <td style="text-align:left">格式：08:40:40</td></tr> <tr><td>datetime</td> <td style="text-align:left">格式: 2019-02-23 08:40:40</td></tr> <tr><td>timestap</td> <td style="text-align:left">自动存储记录修改的时间戳，精确到秒</td></tr> <tr><td>year</td> <td style="text-align:left">格式：2019</td></tr></tbody></table> <h3 id="数值类型"><a href="#数值类型" aria-hidden="true" class="header-anchor">#</a> 数值类型</h3> <ol><li><p>整数类型</p> <p><img src="/img/mysql-int.png" alt="'数据类型'" title="init类型"></p> <ul><li>是否有符号可以修改，是否有符号会改变值的范围,默认是有符号的
<ul><li>create table tablename(id tinyint unsigned); 无符号(0,255)</li> <li>create table tablename(id tinint signed); 有符号(-128,127)</li> <li>create table tablename(id tinyint unsigned not null default 0);</li></ul></li></ul></li> <li><p>小数类型</p> <ul><li>float(M,D)
<ul><li>M表示显示长度，D表示小数位数</li> <li>float(4,2) 表示的范围：-99.99~99.99</li> <li>float(4,2) unsigned 表示的范围：0~99.99</li> <li>插入时遵循四舍五入原则,超出范围会报错</li> <li>精确度在小数点7位，单精度类型</li></ul></li> <li>decimal(M,D)
<ul><li>用法和float一样</li> <li>区别：
<ol><li>decimal的精度高于float,float存在一定误差</li> <li>decimal以字符串的形式存储</li></ol></li></ul></li></ul></li> <li><p>zerofill</p></li></ol> <pre><code> create table tablename(
     num1 int auto_increment,
     num2 int(4) zerofill, comment '不足4位，前面自动以0填充,超过则不填充'
     num3 int(6) unsigned zerofill '不足6位，前面自动以0填充,超过则不填充',
     primary key(num1),
 );
 注意事项：1. zerofill只能和unsigned配合使用
          2. 如果指定了 zerofill，则默认是unsigned
          3. 如果不使用zerofill关键字，则int(11)没有任何意义
4. primary key
   + alter table tablename add primary key(id); 添加主键
   + alter table tablename drop primary key; 删除主键
5. BIT使用
6. ASCII码
</code></pre> <h3 id="字符串类型"><a href="#字符串类型" aria-hidden="true" class="header-anchor">#</a> 字符串类型</h3> <ol><li>char
<ul><li>固定长度字符串，最大255字符</li> <li>一个英文字符和一个中文字符的长度都是一个字符</li> <li>char(n) 是定长，即使插入n-2个字符，也会分配n个字符</li> <li>char在存放空格时会丢失，'aaa ' =&gt; 'aaa'</li> <li>超过char的n设置后，字符串会被截断</li></ul></li> <li>varchar
<ul><li>varchar(2) 等同于 char(2)</li> <li>最大长度可以存放65535个字节，其中1-3个字节用于记录数据大小</li> <li>varchar(n) n的最大值和字符编码有关系,utf8中一个汉字占3个字节，
gbk中一个汉字占2个字节
varchar(65532/3) utf8编码，最大存放字符数 65532/3
varchar(65532/2) gbk编码，最大存放字符数 65532/2</li> <li>varchar(n) 是变长，只保存实际需要的字符数，另加一个字节记录长度，
如果列声明的长度超过255，则使用两个字节记录长度</li> <li>varchar不会丢失空格 'aaa ' =&gt; 'aaa '</li> <li>超过varchar的n设置后，字符串会被截断</li></ul></li> <li>text
<ul><li>用法和varchar一样</li> <li>text 不能指定默认值</li></ul></li></ol> <h3 id="日期类型"><a href="#日期类型" aria-hidden="true" class="header-anchor">#</a> 日期类型</h3> <ol><li>date</li> <li>datetime</li> <li>timestamp: 会自动联动insert、update的时间戳</li></ol> <div class="language- extra-class"><pre class="language-text"><code>create table tbname (n1 date,n2 datetime,n3 timestamp);
insert into tbname(n1,n2) values('2019-01-01','2019-01-01 00:12:12')
</code></pre></div><h3 id="enum-set"><a href="#enum-set" aria-hidden="true" class="header-anchor">#</a> Enum &amp; SET</h3> <ul><li>Enum(enumeration) &amp; SET 不能有默认值</li> <li>复选框，单选框适用于 enum和 set数据类型</li> <li>实际存储的是索引值，所以insert时可以用1,2,3替代</li></ul> <div class="language- extra-class"><pre class="language-text"><code>create table votes(
    username varchar(20) not null default '',
    hobby set('篮球','足球','排球') not null,
    sex enum('男','女') not null
);
insert into votes values('zhangsan','篮球，足球','女');
注意事项：1. set的值必须在可选范围内
         2. enum只能支持单选
 select * from votes where find_in_set('nba',hobby);
</code></pre></div><h2 id="sql基本操作"><a href="#sql基本操作" aria-hidden="true" class="header-anchor">#</a> sql基本操作</h2> <h3 id="库操作"><a href="#库操作" aria-hidden="true" class="header-anchor">#</a> 库操作</h3> <ul><li>create database dbname [库选项];
<ul><li>库选项：用于约束数据库,分为两个选项
<ul><li>字符集设定: charset/character set 字符集(数据存储的编码格式)
<ul><li>常用字符集: utf8 &amp; gbk</li></ul></li> <li>校对集设定: collate 校对集(数据比较的规则)</li></ul></li> <li>show databases;</li></ul></li></ul> <h2 id="常用命令行"><a href="#常用命令行" aria-hidden="true" class="header-anchor">#</a> 常用命令行</h2> <h3 id="连接数据库"><a href="#连接数据库" aria-hidden="true" class="header-anchor">#</a> 连接数据库</h3> <ol><li>mysql -uzyb -p(连接本地数据库)</li> <li>mysqp -hwww.baidu.com -P3306 -uzyb -p(连接远程数据库)</li> <li>修改密码
<ol><li>进入mysql的bin目录</li> <li>执行: mysqladmin -uzyb -p oldpsd password newpsd</li></ol></li> <li>show grants; 查看权限</li> <li>show grants for 'zyb'@'localhost'; 查看某个用户的权限</li></ol> <h3 id="库操作-2"><a href="#库操作-2" aria-hidden="true" class="header-anchor">#</a> 库操作</h3> <ol><li>create database dbname; 创建数据库
<ul><li>create database dbname character set utf8;</li> <li>create database dbname character set utf8 collate utf8_general_ci;</li></ul></li> <li>drop database dbname; 删除数据库
<ul><li>drop database if exists dbname;</li></ul></li> <li>show databases; 查看数据库</li> <li>use dbname; 使用数据库</li> <li>select database(); 查看当前在哪个数据库</li> <li>select version(); 查看数据库的版本</li> <li>show processlist; 查看当前有多少个进程连接数据库</li> <li>mysqldump -uzyb -p dbname &gt; D:/mysql/backup/data0122.sql 备份数据库
<ul><li>mysqldump -uzyb -p dbname tablename1 tablename2 &gt;
D:/mysql/backup/data0122.sql</li> <li>mysqldump -uzyb -p -B dbname1 daname2 &gt;
D:/mysql/backup/data0122.sql</li></ul></li> <li>还原数据:
<ol><li>create database dbname character set utf8;</li> <li>source D:/mysql/backup/data0122.sql;</li></ol></li> <li>数据库修改：字符集 | 校对规则 | 存储引擎
<ul><li>alter database dbname character set utf8;</li> <li>alter database dbname charset=utf8;</li> <li>alter database dbname collate utf8_general_ci;</li></ul></li> <li>show variables like '%char%'; 查看字符集
<ul><li>character_set_client</li> <li>character_set_connection</li> <li>character_set_database</li> <li>character_set_server</li></ul></li> <li>show variables like '%collation%'; 查看校对规则
<ul><li>collation_client</li> <li>collation_connection</li> <li>collation_server</li></ul></li></ol> <h3 id="表操作"><a href="#表操作" aria-hidden="true" class="header-anchor">#</a> 表操作</h3> <ol><li>创建表</li></ol> <div class="language- extra-class"><pre class="language-text"><code>create table tablename (
   id int(10),
   name varchar(20),
   password char(32),
   birthday date
) character set utf8 collate utf8_general_ci engine innodb;
注意：存储引擎为myisam时，数据被保存在三个文件中,myisam不支持事务
   1. .frm =&gt; 存储表结构
   2. .MYD =&gt; 存储数据
   3. .MYI =&gt; 存储索引
</code></pre></div><ol start="2"><li>show tables; 查看所有表</li> <li>desc tablename; 查看表结构</li> <li>drop table tablename; 删除表</li> <li>alter table tablename add filedname tinyint(6) zerofill; 添加字段</li> <li>alter table tablename add primary key(id); 添加主键</li> <li>alter table tablename drop primary key; 删除主键</li> <li>修改表名
<ul><li>rename table tbname1 to tbname2;</li> <li>alter table tbname1 rename to tbname2;</li></ul></li></ol> <h4 id="修改表"><a href="#修改表" aria-hidden="true" class="header-anchor">#</a> 修改表</h4> <ol><li>添加字段
<ul><li>alter table tbname add filedname varchar(20) after fdname;</li></ul></li> <li>修改字段
<ul><li>修改字段名属性一定要带上列类型</li> <li>alter table tbname modify fdname varchar(40); 修改属性</li> <li>alter table tbname change fdname fd_name varchar(40) not null default '';
修改字段名</li></ul></li> <li>删除字段
<ul><li>alter table tbname drop fdname;</li></ul></li> <li>修改表名</li></ol> <pre><code>  + rename table tbname1 to tbname2;
  + alter table tbname1 rename to tbname2;
</code></pre> <ol start="5"><li>修改表字符集
<ul><li>alter table tbname charset=utf8;</li></ul></li> <li>修改存储引擎
<ul><li>alter table tbname engine=innodb;</li></ul></li> <li>create table tbname1 select * from tbname2;</li></ol> <h4 id="insert语句"><a href="#insert语句" aria-hidden="true" class="header-anchor">#</a> insert语句</h4> <ol><li>insert into tbname(fd1,fd2) values(val1,val2);</li> <li>insert into tbname values(val1,val2,...);</li> <li>insert into tbname values('2019-01-23','abc',11,...);</li> <li>insert into tbname (val1,val2),(val1,val2),...;</li></ol> <h4 id="update语句"><a href="#update语句" aria-hidden="true" class="header-anchor">#</a> update语句</h4> <ol><li>update tbname set fdname=val where id=1;</li> <li>update tbname set fnname=val;</li> <li>update tbname set salary=salary+500;</li> <li>update tbname set salary=salary+500,name='php' where name = 'js';</li></ol> <h4 id="delete语句"><a href="#delete语句" aria-hidden="true" class="header-anchor">#</a> delete语句</h4> <ol><li>delete from tbname where fdname='php';删除一条记录</li> <li>delete from tbname;删除整个表的记录，但表结构还在</li> <li>truncade table tbname;删除整个表的记录
<ul><li>truncate 效率更快，不能带where条件，返回值为0</li> <li>delete可以带where条件，返回删除的记录数</li></ul></li></ol> <h4 id="select语句"><a href="#select语句" aria-hidden="true" class="header-anchor">#</a> select语句</h4> <ol><li>select * from tbname; 尽量少使用*,需要哪个字段就查哪个字段</li> <li>select fdname1,fdname2 from tbname;</li> <li>select distinct fdname1,fdname2 from tbname;去重</li> <li>select fdname as newfdname from tbname;</li> <li>select fdname from tbname order by fdname;</li> <li>select round(fdname,2) as new fdname2 from tbname;保留两位小数</li> <li>select fdname from tbname where fdname like '%s%';模糊查找</li> <li>select * from tbname where fdname1&gt;val and fdname2 like 'css%';</li> <li>select * from tbname where not(fdname=val);</li> <li>select * from tbname where fdname between val1 and val2;</li> <li>select * from tbname order by fdname asc|desc;asc升序 desc绛序，支持别名排序</li> <li>统计 sum &amp; count &amp; avg &amp; max &amp; min</li></ol> <pre><code>  + select count(*) from tbname where fdname=val;统计行数
  + select count(fdname) from tbname where fdname=val;
  + count(fdname)不会统计值为null的情况
  + select sum(fdname) from tbname;自动求和
  + select sum(fdname) from tbname where condition;
  + select sum(fdname1+fdname2) from tbname;
  + select sum(fdname1),sum(fdname2) from tbname;
  + select sum(fdname)/count(fdname) from tbname;
  + sum只对数值类型有用
  + select avg(fdname) from tbname; 求平均数
  + select avg(fdname1),avg(fdname2) from tbname; 
</code></pre> <ol start="13"><li>having vs where</li></ol> <pre><code>  + select fdname from tbname having fdname&gt;val;
  + select fdname as newfdname from tbname having newfdname&gt;val;
</code></pre> <ol start="14"><li>group by</li></ol> <pre><code>  + select sum(math),fdname from tbname group by fdname;
  + select count(*),fdname1,fdname2 from tbname group by fdname1,fdname2;
</code></pre> <ol start="15"><li>日期函数</li></ol> <h3 id="其他"><a href="#其他" aria-hidden="true" class="header-anchor">#</a> 其他</h3> <ol><li>select now();查看当前时间</li> <li>show character set; 查看所有字符集</li> <li>show collation; 查看所有校对规则</li> <li>show create database dbname; 查看创建数据库时的sql语句</li></ol> <h2 id="brew"><a href="#brew" aria-hidden="true" class="header-anchor">#</a> brew</h2> <ol><li>安装：brew install mysql</li> <li>启动：mysql.server start</li> <li>登陆：mysql -uroot -p</li> <li>退出：exit</li> <li>关闭：mysql.server stop</li></ol></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新: </span> <span class="time">2/28/2019, 10:16:23 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/php/面向对象.html" class="prev">
          面向对象
        </a></span> <span class="next"><a href="/php/PDO.html">
          PDO
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.6f37432a.js" defer></script><script src="/assets/js/77.0c1011fd.js" defer></script>
  </body>
</html>
