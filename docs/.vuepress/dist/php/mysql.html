<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL | 50号公路的技术博客</title>
    <meta name="description" content="每一行代码都是你成长的记录">
    <link rel="icon" href="/img/avatar.png">
    
    <link rel="preload" href="/assets/css/0.styles.520ee453.css" as="style"><link rel="preload" href="/assets/js/app.1bd64eb8.js" as="script"><link rel="preload" href="/assets/js/35.0b29fbc4.js" as="script"><link rel="prefetch" href="/assets/js/10.49800530.js"><link rel="prefetch" href="/assets/js/11.61ea3197.js"><link rel="prefetch" href="/assets/js/12.b39f3b46.js"><link rel="prefetch" href="/assets/js/13.56d33a1d.js"><link rel="prefetch" href="/assets/js/14.ec243073.js"><link rel="prefetch" href="/assets/js/15.6687a93a.js"><link rel="prefetch" href="/assets/js/16.9c470576.js"><link rel="prefetch" href="/assets/js/17.aadcdeba.js"><link rel="prefetch" href="/assets/js/18.af1d9341.js"><link rel="prefetch" href="/assets/js/19.d9e40465.js"><link rel="prefetch" href="/assets/js/2.aac9f33a.js"><link rel="prefetch" href="/assets/js/20.5b9efde7.js"><link rel="prefetch" href="/assets/js/21.dae514af.js"><link rel="prefetch" href="/assets/js/22.f1cc16ac.js"><link rel="prefetch" href="/assets/js/23.ca2bacdb.js"><link rel="prefetch" href="/assets/js/24.2bfd15c8.js"><link rel="prefetch" href="/assets/js/25.67456f73.js"><link rel="prefetch" href="/assets/js/26.8675dc94.js"><link rel="prefetch" href="/assets/js/27.b1f8d983.js"><link rel="prefetch" href="/assets/js/28.68b04fbc.js"><link rel="prefetch" href="/assets/js/29.5061f1b0.js"><link rel="prefetch" href="/assets/js/3.569fa868.js"><link rel="prefetch" href="/assets/js/30.590e38ed.js"><link rel="prefetch" href="/assets/js/31.2e8c6fe9.js"><link rel="prefetch" href="/assets/js/32.0cc8a4a6.js"><link rel="prefetch" href="/assets/js/33.e0b3bd7d.js"><link rel="prefetch" href="/assets/js/34.97551eab.js"><link rel="prefetch" href="/assets/js/36.c92df3ab.js"><link rel="prefetch" href="/assets/js/37.664af95a.js"><link rel="prefetch" href="/assets/js/38.981398cc.js"><link rel="prefetch" href="/assets/js/39.c6efe9f9.js"><link rel="prefetch" href="/assets/js/4.bfc269f8.js"><link rel="prefetch" href="/assets/js/40.5b47bbd2.js"><link rel="prefetch" href="/assets/js/41.bbc1feba.js"><link rel="prefetch" href="/assets/js/42.57c60959.js"><link rel="prefetch" href="/assets/js/43.9a217d86.js"><link rel="prefetch" href="/assets/js/44.55c85b79.js"><link rel="prefetch" href="/assets/js/45.94a7ddf8.js"><link rel="prefetch" href="/assets/js/46.05c98c00.js"><link rel="prefetch" href="/assets/js/47.f6d506ae.js"><link rel="prefetch" href="/assets/js/48.6ab1a5dd.js"><link rel="prefetch" href="/assets/js/49.bcab9c65.js"><link rel="prefetch" href="/assets/js/5.fcbd8cdc.js"><link rel="prefetch" href="/assets/js/6.e63fd7b7.js"><link rel="prefetch" href="/assets/js/7.150556d6.js"><link rel="prefetch" href="/assets/js/8.c23d41e3.js"><link rel="prefetch" href="/assets/js/9.e87497e7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.520ee453.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">50号公路的技术博客</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/php/基本语法.html" class="nav-link">php</a></li><li class="dropdown-item"><!----> <a href="/java/基本介绍.html" class="nav-link">java</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/markdown/基本语法.html" class="nav-link">markdown</a></li><li class="dropdown-item"><!----> <a href="/tooldocs/工具文档.html" class="nav-link">tooldocs</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/shell/" class="nav-link">shell</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/XML/" class="nav-link">XML</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/reactChatPC.html" class="nav-link">react-chat</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/electron/" class="nav-link">electron</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/clispaul3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/php/基本语法.html" class="nav-link">php</a></li><li class="dropdown-item"><!----> <a href="/java/基本介绍.html" class="nav-link">java</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/markdown/基本语法.html" class="nav-link">markdown</a></li><li class="dropdown-item"><!----> <a href="/tooldocs/工具文档.html" class="nav-link">tooldocs</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/shell/" class="nav-link">shell</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/XML/" class="nav-link">XML</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/reactChatPC.html" class="nav-link">react-chat</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/electron/" class="nav-link">electron</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/clispaul3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/php/基本语法.html" class="sidebar-link">基本语法</a></li><li><a href="/php/面向对象.html" class="sidebar-link">面向对象</a></li><li><a href="/php/mysql.html" class="active sidebar-link">MySQL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/mysql.html#相关概念" class="sidebar-link">相关概念</a></li><li class="sidebar-sub-header"><a href="/php/mysql.html#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/php/mysql.html#sql基本操作" class="sidebar-link">sql基本操作</a></li><li class="sidebar-sub-header"><a href="/php/mysql.html#常用命令行" class="sidebar-link">常用命令行</a></li></ul></li><li><a href="/php/PDO.html" class="sidebar-link">PDO</a></li><li><a href="/php/phpmyadmin.html" class="sidebar-link">phpmyadmin</a></li><li><a href="/php/mvc.html" class="sidebar-link">MVC</a></li><li><a href="/php/常用函数.html" class="sidebar-link">常用函数</a></li><li><a href="/php/常用框架.html" class="sidebar-link">常用框架</a></li><li><a href="/php/路由.html" class="sidebar-link">路由</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="mysql"><a href="#mysql" aria-hidden="true" class="header-anchor">#</a> MySQL</h1> <h2 id="相关概念"><a href="#相关概念" aria-hidden="true" class="header-anchor">#</a> 相关概念</h2> <ul><li>DB</li> <li>DBMS</li> <li>SQL</li> <li>关系型数据库 SQL</li> <li>结构性数据库 Nosql</li></ul> <h3 id="常用的数据库管理系统"><a href="#常用的数据库管理系统" aria-hidden="true" class="header-anchor">#</a> 常用的数据库管理系统</h3> <ul><li>MySQL、Oracle、DB2、SqlServer、Sqlite等</li></ul> <h3 id="docs-mysql-常用命令"><a href="#docs-mysql-常用命令" aria-hidden="true" class="header-anchor">#</a> docs-&gt;mysql 常用命令</h3> <ol><li>登录: mysql -h localhost -P 3306 -u zyb -p</li> <li>退出: exit &amp; quit</li> <li>show databases;</li> <li>use test;</li> <li>show tables;</li> <li>select database(); 查看当前所在数据库</li> <li>create table test(id int,name varchar(20)); 建表</li> <li>desc test; 查看表结构</li> <li>select * from test;</li> <li>insert into test (id,name) values(1,'html');</li> <li>delete from test where id=1;</li> <li>select version(); 查看版本</li> <li>show variables like 'character_set%'; 查看字符集关系</li> <li>ALTER DATABASE zyb CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;</li> <li>alter table test convert to character set utf8mb4 collate utf8mb4_bin;</li></ol> <h3 id="sql语法规范"><a href="#sql语法规范" aria-hidden="true" class="header-anchor">#</a> SQL语法规范</h3> <ul><li>不区分大小写</li> <li>每条命令已分号结尾</li> <li>注释
<ul><li>单行注释：#注释文字</li> <li>单行注释：-- 注释文字</li> <li>多行注释：/* 注释文字 */</li></ul></li></ul> <h3 id="sql语句分类"><a href="#sql语句分类" aria-hidden="true" class="header-anchor">#</a> SQL语句分类</h3> <ul><li>DQL 数据查询语句
<ul><li>select</li></ul></li> <li>DML 数据操作语句
<ul><li>update、insert、delete</li></ul></li> <li>DDL 数据定义语句
<ul><li>create、alter</li></ul></li> <li>DCL 数据控制语句
<ul><li>grant、revoke、commit、rollback、savepoint等</li></ul></li></ul> <h3 id="字符集"><a href="#字符集" aria-hidden="true" class="header-anchor">#</a> 字符集</h3> <ul><li>字符是各种文字和符号的总称，包括各国家文字、标点符号、图形文字、数字等</li> <li>在计算机中所看到的任何内容都是字符构成的</li> <li>字符编码是计算机针对各种符号，在计算机中的一种二进制存储代号</li> <li>字符集是多个字符的集合，字符集种类较多，每个字符集包含的字符个数不同</li> <li>常见字符集 ASCII、GB2312、BIG5、GB18030、Unicode</li></ul> <h2 id="数据类型"><a href="#数据类型" aria-hidden="true" class="header-anchor">#</a> 数据类型</h2> <p><a href="https://www.cnblogs.com/Caveolae/p/7058890.html" title="数据类型" target="_blank" rel="noopener noreferrer">文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="数值类型"><a href="#数值类型" aria-hidden="true" class="header-anchor">#</a> 数值类型</h3> <ol><li><p>整数类型</p> <p><img src="/img/mysql-int.png" alt="'数据类型'" title="init类型"></p> <ul><li>是否有符号可以修改，是否有符号会改变值的范围,默认是有符号的
<ul><li>create table tablename(id tinyint unsigned); 无符号(0,255)</li> <li>create table tablename(id tinint signed); 有符号(-128,127)</li> <li>create table tablename(id tinyint unsigned not null default 0);</li></ul></li></ul></li> <li><p>小数类型</p> <ul><li>float(M,D)
<ul><li>M表示显示长度，D表示小数位数</li> <li>float(4,2) 表示的范围：-99.99~99.99</li> <li>float(4,2) unsigned 表示的范围：0~99.99</li> <li>插入时遵循四舍五入原则,超出范围会报错</li> <li>精确度在小数点7位，单精度类型</li></ul></li> <li>decimal(M,D)
<ul><li>用法和float一样</li> <li>区别：
<ol><li>decimal的精度高于float,float存在一定误差</li> <li>decimal以字符串的形式存储</li></ol></li></ul></li></ul></li> <li><p>zerofill</p></li></ol> <pre><code> create table tablename(
     num1 int auto_increment,
     num2 int(4) zerofill, comment '不足4位，前面自动以0填充,超过则不填充'
     num3 int(6) unsigned zerofill '不足6位，前面自动以0填充,超过则不填充',
     primary key(num1),
 );
 注意事项：1. zerofill只能和unsigned配合使用
          2. 如果指定了 zerofill，则默认是unsigned
          3. 如果不使用zerofill关键字，则int(11)没有任何意义
4. primary key
   + alter table tablename add primary key(id); 添加主键
   + alter table tablename drop primary key; 删除主键
5. BIT使用
6. ASCII码
</code></pre> <h3 id="字符串类型"><a href="#字符串类型" aria-hidden="true" class="header-anchor">#</a> 字符串类型</h3> <ol><li>char
<ul><li>固定长度字符串，最大255字符</li> <li>一个英文字符和一个中文字符的长度都是一个字符</li> <li>char(n) 是定长，即使插入n-2个字符，也会分配n个字符</li> <li>char在存放空格时会丢失，'aaa ' =&gt; 'aaa'</li></ul></li> <li>varchar
<ul><li>varchar(2) 等同于 char(2)</li> <li>最大长度可以存放65535个字节，其中1-3个字节用于记录数据大小</li> <li>varchar(n) n的最大值和字符编码有关系,utf8中一个汉字占3个字节，
gbk中一个汉字占2个字节
varchar(65532/3) utf8编码，最大存放字符数 65532/3
varchar(65532/2) gbk编码，最大存放字符数 65532/2</li> <li>varchar(n) 是变长，只保存实际需要的字符数，另加一个字节记录长度，
如果列声明的长度超过255，则使用两个字节记录长度</li> <li>varchar不会丢失空格 'aaa ' =&gt; 'aaa '</li></ul></li> <li>text
<ul><li>用法和varchar一样</li> <li>text 不能指定默认值</li></ul></li></ol> <h3 id="日期类型"><a href="#日期类型" aria-hidden="true" class="header-anchor">#</a> 日期类型</h3> <ol><li>date</li> <li>datetime</li> <li>timestamp: 会自动联动insert、update的时间戳</li></ol> <div class="language- extra-class"><pre class="language-text"><code>create table tbname (n1 date,n2 datetime,n3 timestamp);
insert into tbname(n1,n2) values('2019-01-01','2019-01-01 00:12:12')
</code></pre></div><h3 id="enum-set"><a href="#enum-set" aria-hidden="true" class="header-anchor">#</a> Enum &amp; SET</h3> <ul><li>Enum(enumeration) &amp; SET 不能有默认值</li> <li>复选框，单选框适用于 enum和 set数据类型</li> <li>实际存储的是索引值，所以insert时可以用1,2,3替代</li></ul> <div class="language- extra-class"><pre class="language-text"><code>create table votes(
    username varchar(20) not null default '',
    hobby set('篮球','足球','排球') not null,
    sex enum('男','女') not null
);
insert into votes values('zhangsan','篮球，足球','女');
注意事项：1. set的值必须在可选范围内
         2. enum只能支持单选
 select * from votes where find_in_set('nba',hobby);
</code></pre></div><h2 id="sql基本操作"><a href="#sql基本操作" aria-hidden="true" class="header-anchor">#</a> sql基本操作</h2> <h3 id="库操作"><a href="#库操作" aria-hidden="true" class="header-anchor">#</a> 库操作</h3> <ul><li>create database dbname [库选项];
<ul><li>库选项：用于约束数据库,分为两个选项
<ul><li>字符集设定: charset/character set 字符集(数据存储的编码格式)
<ul><li>常用字符集: utf8 &amp; gbk</li></ul></li> <li>校对集设定: collate 校对集(数据比较的规则)</li></ul></li> <li>show databases;</li></ul></li></ul> <h2 id="常用命令行"><a href="#常用命令行" aria-hidden="true" class="header-anchor">#</a> 常用命令行</h2> <h3 id="连接数据库"><a href="#连接数据库" aria-hidden="true" class="header-anchor">#</a> 连接数据库</h3> <ol><li>mysql -uzyb -p(连接本地数据库)</li> <li>mysqp -hwww.baidu.com -P3306 -uzyb -p(连接远程数据库)</li> <li>修改密码
<ol><li>进入mysql的bin目录</li> <li>执行: mysqladmin -uzyb -p oldpsd password newpsd</li></ol></li> <li>show grants; 查看权限</li> <li>show grants for 'zyb'@'localhost'; 查看某个用户的权限</li></ol> <h3 id="库操作-2"><a href="#库操作-2" aria-hidden="true" class="header-anchor">#</a> 库操作</h3> <ol><li>create database dbname; 创建数据库
<ul><li>create database dbname character set utf8;</li> <li>create database dbname character set utf8 collate utf8_general_ci;</li></ul></li> <li>drop database dbname; 删除数据库
<ul><li>drop database if exists dbname;</li></ul></li> <li>show databases; 查看数据库</li> <li>use dbname; 使用数据库</li> <li>select database(); 查看当前在哪个数据库</li> <li>select version(); 查看数据库的版本</li> <li>show processlist; 查看当前有多少个进程连接数据库</li> <li>mysqldump -uzyb -p dbname &gt; D:/mysql/backup/data0122.sql 备份数据库
<ul><li>mysqldump -uzyb -p dbname tablename1 tablename2 &gt;
D:/mysql/backup/data0122.sql</li> <li>mysqldump -uzyb -p -B dbname1 daname2 &gt;
D:/mysql/backup/data0122.sql</li></ul></li> <li>还原数据:
<ol><li>create database dbname character set utf8;</li> <li>source D:/mysql/backup/data0122.sql;</li></ol></li> <li>数据库修改：字符集 | 校对规则 | 存储引擎
<ul><li>alter database dbname character set utf8;</li> <li>alter database dbname charset=utf8;</li> <li>alter database dbname collate utf8_general_ci;</li></ul></li> <li>show variables like '%char%'; 查看字符集
<ul><li>character_set_client</li> <li>character_set_connection</li> <li>character_set_database</li> <li>character_set_server</li></ul></li> <li>show variables like '%collation%'; 查看校对规则
<ul><li>collation_client</li> <li>collation_connection</li> <li>collation_server</li></ul></li></ol> <h3 id="表操作"><a href="#表操作" aria-hidden="true" class="header-anchor">#</a> 表操作</h3> <ol><li>创建表</li></ol> <div class="language- extra-class"><pre class="language-text"><code>create table tablename (
   id int(10),
   name varchar(20),
   password char(32),
   birthday date
) character set utf8 collate utf8_general_ci engine innodb;
注意：存储引擎为myisam时，数据被保存在三个文件中,myisam不支持事务
   1. .frm =&gt; 存储表结构
   2. .MYD =&gt; 存储数据
   3. .MYI =&gt; 存储索引
</code></pre></div><ol start="2"><li>show tables; 查看所有表</li> <li>desc tablename; 查看表结构</li> <li>drop table tablename; 删除表</li> <li>alter table tablename add filedname tinyint(6) zerofill; 添加字段</li> <li>alter table tablename add primary key(id); 添加主键</li> <li>alter table tablename drop primary key; 删除主键</li> <li>修改表名
<ul><li>rename table tbname1 to tbname2;</li> <li>alter table tbname1 rename to tbname2;</li></ul></li></ol> <h4 id="修改表"><a href="#修改表" aria-hidden="true" class="header-anchor">#</a> 修改表</h4> <ol><li>添加字段
<ul><li>alter table tbname add filedname varchar(20) after fdname;</li></ul></li> <li>修改字段
<ul><li>修改字段名属性一定要带上列类型</li> <li>alter table tbname modify fdname varchar(40); 修改属性</li> <li>alter table tbname change fdname fd_name varchar(40) not null default '';
修改字段名</li></ul></li> <li>删除字段
<ul><li>alter table tbname drop fdname;</li></ul></li> <li>修改表名</li></ol> <pre><code>  + rename table tbname1 to tbname2;
  + alter table tbname1 rename to tbname2;
</code></pre> <ol start="5"><li>修改表字符集
<ul><li>alter table tbname charset=utf8;</li></ul></li> <li>修改存储引擎
<ul><li>alter table tbname engine=innodb;</li></ul></li> <li>create table tbname1 select * from tbname2;</li></ol> <h4 id="insert语句"><a href="#insert语句" aria-hidden="true" class="header-anchor">#</a> insert语句</h4> <ol><li>insert into tbname(fd1,fd2) values(val1,val2);</li> <li>insert into tbname values(val1,val2,...);</li> <li>insert into tbname values('2019-01-23','abc',11,...);</li> <li>insert into tbname (val1,val2),(val1,val2),...;</li></ol> <h4 id="update语句"><a href="#update语句" aria-hidden="true" class="header-anchor">#</a> update语句</h4> <ol><li>update tbname set fdname=val where id=1;</li> <li>update tbname set fnname=val;</li> <li>update tbname set salary=salary+500;</li> <li>update tbname set salary=salary+500,name='php' where name = 'js';</li></ol> <h4 id="delete语句"><a href="#delete语句" aria-hidden="true" class="header-anchor">#</a> delete语句</h4> <ol><li>delete from tbname where fdname='php';删除一条记录</li> <li>delete from tbname;删除整个表的记录，但表结构还在</li> <li>truncade table tbname;删除整个表的记录
<ul><li>truncate 效率更快，不能带where条件，返回值为0</li> <li>delete可以带where条件，返回删除的记录数</li></ul></li></ol> <h4 id="select语句"><a href="#select语句" aria-hidden="true" class="header-anchor">#</a> select语句</h4> <ol><li>select * from tbname; 尽量少使用*,需要哪个字段就查哪个字段</li> <li>select fdname1,fdname2 from tbname;</li> <li>select distinct fdname1,fdname2 from tbname;去重</li> <li>select fdname as newfdname from tbname;</li> <li>select fdname from tbname order by fdname;</li> <li>select round(fdname,2) as new fdname2 from tbname;保留两位小数</li> <li>select fdname from tbname where fdname like '%s%';模糊查找</li> <li>select * from tbname where fdname1&gt;val and fdname2 like 'css%';</li> <li>select * from tbname where not(fdname=val);</li> <li>select * from tbname where fdname between val1 and val2;</li> <li>select * from tbname order by fdname asc|desc;asc升序 desc绛序，支持别名排序</li> <li>统计 sum &amp; count &amp; avg &amp; max &amp; min</li></ol> <pre><code>  + select count(*) from tbname where fdname=val;统计行数
  + select count(fdname) from tbname where fdname=val;
  + count(fdname)不会统计值为null的情况
  + select sum(fdname) from tbname;自动求和
  + select sum(fdname) from tbname where condition;
  + select sum(fdname1+fdname2) from tbname;
  + select sum(fdname1),sum(fdname2) from tbname;
  + select sum(fdname)/count(fdname) from tbname;
  + sum只对数值类型有用
  + select avg(fdname) from tbname; 求平均数
  + select avg(fdname1),avg(fdname2) from tbname; 
</code></pre> <ol start="13"><li>having vs where</li></ol> <pre><code>  + select fdname from tbname having fdname&gt;val;
  + select fdname as newfdname from tbname having newfdname&gt;val;
</code></pre> <ol start="14"><li>group by</li></ol> <pre><code>  + select sum(math),fdname from tbname group by fdname;
  + select count(*),fdname1,fdname2 from tbname group by fdname1,fdname2;
</code></pre> <ol start="15"><li>日期函数</li></ol> <h3 id="其他"><a href="#其他" aria-hidden="true" class="header-anchor">#</a> 其他</h3> <ol><li>select now();查看当前时间</li> <li>show character set; 查看所有字符集</li> <li>show collation; 查看所有校对规则</li> <li>show create database dbname; 查看创建数据库时的sql语句</li></ol></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新: </span> <span class="time">1/28/2019, 11:24:09 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/php/面向对象.html" class="prev">
          面向对象
        </a></span> <span class="next"><a href="/php/PDO.html">
          PDO
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.1bd64eb8.js" defer></script><script src="/assets/js/35.0b29fbc4.js" defer></script>
  </body>
</html>
