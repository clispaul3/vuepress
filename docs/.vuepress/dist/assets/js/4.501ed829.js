(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{205:function(e,t,s){"use strict";s.r(t);var n=s(0),r=Object(n.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("p",[s("a",{attrs:{href:"http://www.expressjs.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),s("OutboundLink")],1)]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._m(10),e._v(" "),e._m(11),e._m(12),e._v(" "),e._m(13),e._m(14),e._v(" "),e._m(15),e._m(16),e._v(" "),e._m(17),e._m(18),e._v(" "),e._m(19),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._m(23),e._v(" "),e._m(24),e._m(25),e._v(" "),e._m(26),e._v(" "),e._m(27),e._v(" "),s("p",[s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2018/10/restful-api-best-practices.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),s("OutboundLink")],1)])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"express框架"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#express框架","aria-hidden":"true"}},[this._v("#")]),this._v(" express框架")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 文档")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"基本使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本使用")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("const express = require('express')\nconst path = require('path')\n\nconst app = express()\n// 配置web容器，提供静态文件服务\napp.use(express.static(path.resolve(__dirname,'../client')))\napp.get('/',(ree,res)=>{\n    res.send('hello express 框架')\n})\n// 配置虚拟主机\napp.listen(\"3000\",\"www.nodejs.com\",()=>{\n    console.log('listen port at 3000...')\n})\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"静态资源服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#静态资源服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 静态资源服务")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("app.use(path.resolve(__dirname,'../client'))")]),this._v(" "),t("li",[this._v("app.use('/static',path.resolve(__dirname,'../client'))")]),this._v(" "),t("li",[this._v("托管多个文件夹：\napp.use(express.static('public')); app.use(express.static('files'))")]),this._v(" "),t("li",[this._v("存放静态文件的目录名不会出现在 URL 中，下面的代码不会生效")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("   app.use('/static/js/index.js',(req,resp)=>{\n       resp.send('hello nodejs')\n   })\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路由","aria-hidden":"true"}},[this._v("#")]),this._v(" 路由")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("app.METHOD(PATH, HANDLER)")]),this._v(" "),t("li",[this._v("例子")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v(" app.get('/', function (req, res) {\n     res.send('Hello World!')\n })\n app.post('/', function (req, res) {\n     res.send('Got a POST request')\n })\n app.put('/user', function (req, res) {\n     res.send('Got a PUT request at /user')\n })\n app.delete('/user', function (req, res) {\n     res.send('Got a DELETE request at /user')\n })\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"3"}},[t("li",[this._v("querystring不是路由的一部分")]),this._v(" "),t("li",[this._v("路由的模糊匹配")]),this._v(" "),t("li",[this._v("动态参数")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("客户端请求地址：/user/laoxie/city/guangzhou\n服务端匹配: app.use('/user/:username/city/:city',(req,resp)=>{\n    const params = req.params\n})\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"6"}},[t("li",[this._v("路由回调")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("单个回调：\n   app.get('/example/a', function (req, res) {\n       res.send('Hello from A!')\n   })\n多个回调：\n   app.get('/example/b', function (req, res, next) {\n       console.log('the response will be sent by the next function ...')\n       next()\n   }, function (req, res) {\n         res.send('Hello from B!')\n   })\n\n\n   var cb0 = function (req, res, next) {\n       console.log('CB0')\n       next()\n   }\n   var cb1 = function (req, res, next) {\n       console.log('CB1')\n       next()\n   }\n   var cb2 = function (req, res) {\n       res.send('Hello from C!')\n   }\n   app.get('/example/c', [cb0, cb1, cb2])\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"7"}},[t("li",[this._v("app.route()")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("app.route('/book')\n    .get(function (req, res) {\n       res.send('Get a random book')\n    })\n    .post(function (req, res) {\n       res.send('Add a book')\n    })\n    .put(function (req, res) {\n       res.send('Update the book')\n    })\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"8"}},[t("li",[this._v("express.Router: 路由模块")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("文件：bird.js\n\nvar express = require('express')\nvar router = express.Router()\n// 当前模块的所有请求都会调用这个回调\nrouter.use(function timeLog (req, res, next) {\n    console.log('Time: ', Date.now())\n    next()\n})\n// define the home page route\nrouter.get('/', function (req, res) {\n   res.send('Birds home page')\n})\n// define the about route\nrouter.get('/about', function (req, res) {\n   res.send('About birds')\n})\nmodule.exports = router\n\n文件：app.js\ncosnt router = require('./router/bird')\napp.use('/bird',router)\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"9"}},[t("li",[this._v("处理404响应")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v(' app.use(function (req, res, next) {\n     res.status(404).send("Sorry can\'t find that!")\n })\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"中间件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#中间件","aria-hidden":"true"}},[this._v("#")]),this._v(" 中间件")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("内置中间件：express.static()，express唯一内置的中间件")]),this._v(" "),t("li",[this._v("自定义中间件：app.use([url]，function(req,resp,next)) ->响应路由的中间件")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('var express = require(\'express\');\nvar app = express();\n\napp.use(function(request,response,next){\nif(request.url === \'/\'){\nresponse.writeHead(200,{"Content-Type":"text/plain"});\nresponse.end("This is home\\n");\n} else {\nnext();\n}\n})\napp.use(function(request,response,next){\nif(request.url === \'/about\'){\nresponse.writeHead(200,{"Content-Type":"text/plain"});\nresponse.end("This is about\\n");\n} else {\nnext();\n}\n})\napp.use(function(request,response,next){\nresponse.writeHead(404,{"Content-Type":"text/plain"});\nresponse.end("404 not found!\\n");\n})\napp.listen(1234,\'localhost\');\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"3"}},[t("li",[this._v("第三方中间件")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("body-parser ：解析请求体中的数据，并将其保存为Request对象的body属性。\n\ncookie-parser ：解析客户端cookie中的数据，并将其保存为Request对象的cookie属性\n\nexpress-session ：解析服务端生成的sessionid对应的session数据，并将其保存为Request对象的session属性\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"request对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#request对象","aria-hidden":"true"}},[this._v("#")]),this._v(" request对象")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"response对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#response对象","aria-hidden":"true"}},[this._v("#")]),this._v(" response对象")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"restful设计规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restful设计规范","aria-hidden":"true"}},[this._v("#")]),this._v(" RESTful设计规范")])}],!1,null,null,null);r.options.__file="express.md";t.default=r.exports}}]);