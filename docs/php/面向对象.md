# 面向对象
## 基本语法
   + 定义
```
    class Person {
        public $name;
        public $age;
        var $city;
        public function say(){
            echo 'my name is ' . $this->name;
        }
    }
    $ming = new Person();
    $ming->name = 'xiaoming';
    $ming->say();
    $ming->city = 'guangzhou';
    $class = 'Person';
    $niu = new $class();
    $niu->city = 'beijing';
    var_dump($ming);
    var_dump($niu);

    注意：1. 不带public的方法默认是public
         2. var 声明的变量是public
```
   + __construct 构造方法
```
    class Person{
        public $name;
        var $age;
        function __construct($name,$age = 18){
            $this->name = $name;
            $this->age = $age;
        }
        function say($city){
            echo 'I am living in ' .$city;
        }
    }
    $ming = new Person('xiaoming',20);
    $niu = new Person('xiaoniu');
    $niu->say('guangzhou');
    var_dump($ming);
    var_dump($niu);
```
   + extends 继承
```
    class Person{
        public $name;
        public $age;
        function __construct($name,$age = 18){
            $this->$name = $name;
            $this->$age = $age;
        }
        function say(){
            echo '<p style="color:#58bc58;">my name is ' . $this->name . '</p>';
        }
    }
    class Man extends Person{
        public $wife;
        function __construct(){

        }
        function isMarried(){
            if($this->wife){
                echo 'I am married, her name is ' . "<strong> $this->wife </strong>";
            }else{
                echo 'I am not married' . '<br/>';
            }
        }
    }
    $ming = new Man('xiaoming',18);
    $ming->wife = 'liuyifei';
    $ming->isMarried();
    $ming->say();
    注意：1. php是单继承语言，子类只能有一个父类
         2. 如果子类修改了访问权限，则只能放大权限
```
   + 访问修饰符
      + public： 当前类、子类、实例均可访问
      + protected： 当前类，子类可以访问，实例不可以访问
      + private： 当前类可以访问，子类、实例不可以方位
   + 关键字 final
      * 只能修饰类和成员方法，不能修饰成员属性
      * 修饰的类不能被继承，final修饰的方法不能被重写
   + 重载(重写方法)
      + 完全重写
      + 部分重写
```
class Father{
    public $name;
    function __construct($name){
        $this->name = $name;
    }
    function say(){
        echo 'my name is '. $this->name;
    }
}
class Son{
    public $age;
    function __construct($name,$age){
        parent::__construct($name)
    }
    function say(){
        echo 'my age is '. $this->age;
    }
}
```
## 魔术方法
   + 系统在特定的时机自动调用的方法(只能在当前类中使用，不能在父类&子类中使用)
      - __get
         * 对象在外部访问 protected & private 修饰的属性是调用
         * 接收一个参数，属性名
      - __set
      - __unset
      - __isset
      - __construct
      - __destruct
```
class Father{
    protected $name = 'xiaoming';
}
class Son extends{
    protected $age = 18;
    function __get($attr){
        echo $attr . ':' . $this->$attr;
    }
}
$ming = new Son();
$ming->name;
$ming->age;
```
